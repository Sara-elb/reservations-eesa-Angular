<main>
    <mat-form-field appearance="standard">
        <mat-label>Filtrer</mat-label>
        <input matInput (keyup)="applyFilter($event)" placeholder="Ex. Dressage" #input>
    </mat-form-field>
    
    <div class="mat-elevation-z8">
        <table mat-table [dataSource]="dataSource" matSort>

            <ng-container matColumnDef="id">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> # </th>
                <td mat-cell *matCellDef="let row"> {{row.id}} </td>
            </ng-container>

            <ng-container matColumnDef="nombrePlaces">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Nombre de Places </th>
                <td mat-cell *matCellDef="let row"> {{row.nombrePlaces}} </td>
            </ng-container>

            <ng-container matColumnDef="dateDebut">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Date</th>
                <td mat-cell *matCellDef="let row"> {{row.dateDebut}} </td>
            </ng-container>

            <ng-container matColumnDef="horaire">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Horaire </th>
                <td mat-cell *matCellDef="let row"> {{row.horaire}} </td>
            </ng-container>      
    
            <ng-container matColumnDef="listeNiveaux">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Niveau(x)</th>
                <td mat-cell *matCellDef="let row"> 
                    <ul>
                        <li *ngFor="let level of row.listeNiveaux">{{level.nom}}</li>
                    </ul>
                </td>
            </ng-container>

            <ng-container matColumnDef="typeSeance">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Type</th>
                <td mat-cell *matCellDef="let row"> {{row.typeSeance.nom}} </td>
            </ng-container>

            <ng-container matColumnDef="duree">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Durée</th>
                <td mat-cell *matCellDef="let row"> <output>{{row.duree/60}}</output> h </td>
            </ng-container>

            <ng-container matColumnDef="categorie">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Catégorie </th>
                <td  mat-cell *matCellDef="let row">
                    <ul>
                        <li *ngFor="let typeEquide of row.categorie">{{typeEquide.nom}}</li>
                    </ul>  
                </td> 
            </ng-container>

            <ng-container matColumnDef="commentaire">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Commentaire</th>
                <td mat-cell *matCellDef="let row"> {{row.commentaire}}</td>

            </ng-container>

            <ng-container  matColumnDef="options">
                <th mat-header-cell *matHeaderCellDef aria-label="row actions">&nbsp;</th>
                <td mat-cell id="options" *matCellDef="let row">
                    <button id="editIcon" (click)="editSession(row.id)">
                        <mat-icon>edit</mat-icon>
                    </button>
                    <button id="deleteIcon" (click)="deleteSession(row.id)">
                        <mat-icon>delete</mat-icon>
                    </button>
                </td>
            </ng-container>


            <!-- <ng-container matColumnDef="{{column}}" *ngFor="let column of displayedColumns">
                <th mat-header-cell *matHeaderCellDef> {{column}} </th>

                <td mat-cell *matCellDef="let element">
                    <p *ngIf="column=='duree'">
                     {{element[column]}} min </p>
                     <p *ngIf="column!='duree'">
                        {{element[column]}} </p>
                        <p *ngIf="column=='typeSeance'">
                            {{element[column].nom}} </p>
                </td>


            </ng-container> -->
            <ng-container matColumnDef="expand">
                <th mat-header-cell *matHeaderCellDef>&nbsp;</th>
                <td mat-cell *matCellDef="let element">
                </td>
            </ng-container>
        <!-- <ng-container matColumnDef="id">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> ID </th>
            <td mat-cell *matCellDef="let row"> {{row.id}} </td>
        </ng-container>
    
        <ng-container matColumnDef="progress">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Progress </th>
            <td mat-cell *matCellDef="let row"> {{row.progress}}% </td>
        </ng-container>
    
        <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Name </th>
            <td mat-cell *matCellDef="let row"> {{row.name}} </td>
        </ng-container>
    
        <ng-container matColumnDef="fruit">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Fruit </th>
            <td mat-cell *matCellDef="let row"> {{row.fruit}} </td>
        </ng-container> -->
    
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    
        <!-- Row shown when there is no matching data. -->
        <tr class="mat-row" *matNoDataRow>
            <td class="mat-cell" colspan="4">No data matching the filter "{{input.value}}"</td>
        </tr>
        </table>
    
        <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" aria-label="Select page of users"></mat-paginator>
    </div>
</main>
